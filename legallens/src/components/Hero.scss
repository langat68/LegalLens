// === VARIABLES ===
$primary-dark: #1a1b3e;
$secondary-dark: #2a2d5a;
$gold: #ffd700;
$gold-dark: #e6c200;
$white: #ffffff;
$emerald: #10b981;
$blue: #3b82f6;
$red: #ef4444;

// Gradients
$gradient-hero: linear-gradient(135deg, #{$primary-dark} 0%, #{$secondary-dark} 50%, #1e1f47 100%);
$gradient-gold: linear-gradient(135deg, #{$gold} 0%, #ffed4a 50%, #{$gold} 100%);
$gradient-glow: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.1) 100%);

// Timing functions
$ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
$ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
$ease-gentle: cubic-bezier(0.25, 0.46, 0.45, 0.94);

// === MIXINS ===
@mixin glass-morphism($opacity: 0.1, $blur: 10px) {
    background: rgba(255, 255, 255, $opacity);
    backdrop-filter: blur($blur);
    -webkit-backdrop-filter: blur($blur);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

@mixin glow-effect($color: $gold, $intensity: 0.5) {
    box-shadow:
        0 0 20px rgba($color, $intensity),
        0 0 40px rgba($color, $intensity * 0.6),
        0 0 60px rgba($color, $intensity * 0.3);
}

@mixin button-hover-lift {
    transition: all 0.3s $ease-smooth;

    &:hover {
        transform: translateY(-2px) scale(1.02);
        filter: brightness(1.1);
    }

    &:active {
        transform: translateY(0) scale(0.98);
        transition: all 0.1s $ease-smooth;
    }
}

@mixin text-gradient($from: $white, $to: $gold) {
    background: linear-gradient(135deg, $from 0%, $to 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
}

// === BASE STYLES ===
* {
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

// === MAIN GRADIENT BACKGROUND ===
.gradient-hero {
    background: $gradient-hero;
    position: relative;
    overflow: hidden;

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background:
            radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 40% 60%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
        animation: gradient-shift 8s ease-in-out infinite;
    }
}

// === ANIMATIONS ===
@keyframes gradient-shift {

    0%,
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }

    50% {
        transform: scale(1.1) rotate(180deg);
        opacity: 0.8;
    }
}

@keyframes glow {

    0%,
    100% {
        opacity: 0.5;
        transform: scale(1);
        @include glow-effect($gold, 0.3);
    }

    50% {
        opacity: 1;
        transform: scale(1.1);
        @include glow-effect($gold, 0.6);
    }
}

@keyframes pulse-gentle {

    0%,
    100% {
        opacity: 0.4;
        transform: scale(1);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.05);
    }
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0px) rotate(0deg);
    }

    33% {
        transform: translateY(-10px) rotate(1deg);
    }

    66% {
        transform: translateY(5px) rotate(-1deg);
    }
}

@keyframes float-delayed {

    0%,
    100% {
        transform: translateY(0px) rotate(0deg);
    }

    33% {
        transform: translateY(8px) rotate(-1deg);
    }

    66% {
        transform: translateY(-6px) rotate(1deg);
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes loading-bar {
    0% {
        width: 0%;
    }

    50% {
        width: 70%;
    }

    100% {
        width: 100%;
    }
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(100%);
    }
}

@keyframes bounce-in {
    0% {
        opacity: 0;
        transform: scale(0.3) translateY(50px);
    }

    50% {
        opacity: 1;
        transform: scale(1.05) translateY(-10px);
    }

    70% {
        transform: scale(0.9) translateY(0px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0px);
    }
}

@keyframes ping {

    75%,
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

// Apply animations
.animate-glow {
    animation: glow 3s ease-in-out infinite;
}

.animate-pulse-gentle {
    animation: pulse-gentle 2s ease-in-out infinite;
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

.animate-float-delayed {
    animation: float-delayed 6s ease-in-out infinite;
}

.animate-fade-in-up {
    animation: fade-in-up 0.8s $ease-smooth forwards;
}

.animate-loading-bar {
    animation: loading-bar 3s ease-in-out infinite;
}

.animate-bounce-in {
    animation: bounce-in 0.6s $ease-bounce forwards;
}

.animate-ping {
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}

// === COMPONENT STYLES ===

// Brand/Logo Section
.brand-section {
    .logo-container {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 1rem;

        .logo-icon {
            position: relative;
            width: 3.5rem;
            height: 3.5rem;
            background: $gradient-gold;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.3);
            transition: all 0.3s $ease-smooth;

            &::before {
                content: '';
                position: absolute;
                inset: 0;
                background: $gradient-gold;
                border-radius: 1rem;
                opacity: 0.2;
                animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
            }

            &:hover {
                transform: scale(1.1) rotate(5deg);
                @include glow-effect($gold, 0.8);
            }
        }

        .status-indicator {
            position: absolute;
            top: -0.25rem;
            right: -0.25rem;
            width: 1.25rem;
            height: 1.25rem;
            background: linear-gradient(135deg, $emerald, #34d399);
            border-radius: 50%;
            border: 2px solid $white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
            animation: pulse-gentle 2s infinite;
        }
    }

    .brand-text {
        .main-title {
            @include text-gradient($white, $gold);
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: -0.025em;
            line-height: 1.1;

            @media (min-width: 640px) {
                font-size: 3.5rem;
            }
        }

        .subtitle {
            color: rgba($gold, 0.8);
            font-size: 0.875rem;
            font-weight: 500;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }
    }

    .brand-divider {
        width: 6rem;
        height: 0.375rem;
        background: $gradient-gold;
        margin: 0 auto;
        border-radius: 0.5rem;
        box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
    }
}

// Welcome Message Section
.welcome-section {
    .main-headline {
        font-size: clamp(2rem, 5vw, 4rem);
        font-weight: 700;
        color: $white;
        line-height: 1.2;
        margin-bottom: 1.5rem;

        .highlight {
            @include text-gradient($gold, #ffed4a);
            font-weight: 800;
        }
    }

    .description {
        max-width: 48rem;
        margin: 0 auto;

        .primary-text {
            font-size: clamp(1.25rem, 3vw, 1.5rem);
            color: rgba($white, 0.9);
            font-weight: 500;
            line-height: 1.6;
            margin-bottom: 1rem;

            .emphasis {
                color: $gold;
                font-weight: 600;
            }
        }

        .secondary-text {
            font-size: 1.125rem;
            color: rgba($white, 0.8);
            line-height: 1.6;
        }
    }
}

// Feature Tags
.feature-tags {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;

    .tag {
        @include glass-morphism(0.1, 8px);
        border-radius: 9999px;
        padding: 0.5rem 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s $ease-smooth;

        &:hover {
            @include glass-morphism(0.2, 12px);
            transform: translateY(-2px);
        }

        .icon {
            width: 1rem;
            height: 1rem;
        }

        .text {
            color: rgba($white, 0.9);
            font-size: 0.875rem;
            font-weight: 500;
        }
    }
}

// Upload Button
.upload-button {
    position: relative;
    overflow: hidden;
    background: $gradient-gold;
    color: $primary-dark;
    font-weight: 700;
    font-size: 1.25rem;
    padding: 1.5rem 4rem;
    border-radius: 1rem;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 0 auto;
    box-shadow:
        0 8px 32px rgba(255, 215, 0, 0.4),
        0 4px 16px rgba(0, 0, 0, 0.2);
    transition: all 0.3s $ease-smooth;

    @include button-hover-lift;

    &:hover {
        background: linear-gradient(135deg, rgba($gold, 0.9), rgba(#ffed4a, 0.9));
        box-shadow:
            0 12px 40px rgba(255, 215, 0, 0.5),
            0 6px 20px rgba(0, 0, 0, 0.3);
    }

    &:disabled {
        opacity: 0.75;
        cursor: not-allowed;
        transform: none !important;
    }

    .shimmer-effect {
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg,
                transparent,
                rgba($white, 0.2),
                transparent);
        transform: translateX(-100%);
        transition: transform 0.7s $ease-smooth;
    }

    &:hover .shimmer-effect {
        transform: translateX(100%);
    }

    .upload-icon {
        position: relative;

        &::after {
            content: '';
            position: absolute;
            top: -0.25rem;
            right: -0.25rem;
            width: 0.75rem;
            height: 0.75rem;
            background: $emerald;
            border-radius: 50%;
            animation: pulse-gentle 2s infinite;
        }
    }
}

// Progress Indicator
.progress-indicator {
    @include glass-morphism(0.1, 8px);
    border: 1px solid rgba($gold, 0.3);
    border-radius: 0.75rem;
    padding: 0.75rem;
    max-width: 20rem;
    margin: 0 auto;

    .progress-text {
        color: $gold;
        font-size: 0.875rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: pulse-gentle 2s infinite;
    }

    .progress-bar {
        width: 100%;
        height: 0.25rem;
        background: rgba($white, 0.2);
        border-radius: 9999px;
        margin-top: 0.5rem;
        overflow: hidden;

        .progress-fill {
            height: 100%;
            background: $gradient-gold;
            border-radius: 9999px;
            animation: loading-bar 3s ease-in-out infinite;
        }
    }
}

// Results Section
.results-section {
    .success-header {
        text-align: center;
        margin-bottom: 2rem;

        .success-badge {
            @include glass-morphism(0.2, 8px);
            border: 1px solid rgba($emerald, 0.3);
            border-radius: 9999px;
            padding: 0.75rem 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;

            .icon {
                color: $emerald;
            }

            .text {
                color: rgba($emerald, 0.9);
                font-weight: 500;
            }
        }

        .success-subtitle {
            color: rgba($white, 0.7);
            font-size: 0.875rem;
        }
    }

    .result-card {
        @include glass-morphism(0.05, 12px);
        border-radius: 1rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        transition: all 0.3s $ease-smooth;

        &:hover {
            @include glass-morphism(0.1, 16px);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;

            .icon-container {
                width: 2rem;
                height: 2rem;
                border-radius: 0.5rem;
                display: flex;
                align-items: center;
                justify-content: center;

                &.summary {
                    background: linear-gradient(135deg, $blue, #60a5fa);
                }

                &.highlights {
                    background: $gradient-gold;

                    .icon {
                        color: $primary-dark;
                    }
                }
            }

            .title {
                font-size: 1.25rem;
                font-weight: 700;
                color: $white;
            }
        }

        .card-content {
            .summary-box {
                background: linear-gradient(135deg, rgba($blue, 0.1), rgba(#8b5cf6, 0.1));
                border: 1px solid rgba($blue, 0.2);
                border-radius: 0.75rem;
                padding: 1rem;

                .summary-text {
                    color: rgba($white, 0.9);
                    line-height: 1.6;
                }
            }

            .points-grid {
                display: grid;
                gap: 0.75rem;

                .point-item {
                    background: linear-gradient(135deg, rgba($gold, 0.1), rgba(#fbbf24, 0.1));
                    border: 1px solid rgba($gold, 0.2);
                    border-radius: 0.75rem;
                    padding: 1rem;
                    transition: all 0.3s $ease-smooth;

                    &:hover {
                        background: linear-gradient(135deg, rgba($gold, 0.15), rgba(#fbbf24, 0.15));
                        transform: translateX(4px);
                    }

                    .point-content {
                        display: flex;
                        align-items: flex-start;
                        gap: 1rem;

                        .point-number {
                            width: 1.75rem;
                            height: 1.75rem;
                            background: $gradient-gold;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: $primary-dark;
                            font-weight: 700;
                            font-size: 0.875rem;
                            flex-shrink: 0;
                            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
                            transition: transform 0.3s $ease-smooth;
                        }

                        .point-text {
                            color: rgba($white, 0.9);
                            line-height: 1.5;
                            font-size: 0.875rem;
                        }
                    }

                    &:hover .point-number {
                        transform: scale(1.1);
                    }
                }
            }
        }
    }
}

// Error Section
.error-section {
    .error-card {
        background: rgba(#7f1d1d, 0.2);
        border: 1px solid rgba($red, 0.3);
        border-radius: 1rem;
        padding: 2rem;
        text-align: center;
        @include glass-morphism(0.05, 12px);

        .error-icon {
            color: #fca5a5;
            margin: 0 auto 1rem;
        }

        .error-title {
            color: #fca5a5;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .error-message {
            color: rgba(#fca5a5, 0.8);
            font-size: 1.125rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .error-subtitle {
            color: rgba(#fca5a5, 0.6);
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
        }
    }
}

// How it Works Section
.how-it-works {
    @include glass-morphism(0.05, 12px);
    border-radius: 1rem;
    padding: 1.5rem;
    max-width: 32rem;
    margin: 0 auto;

    .section-title {
        color: $white;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
    }

    .steps-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;

        .step {
            text-align: center;
            padding: 0.75rem;
            border-radius: 0.75rem;
            background: rgba($white, 0.05);
            transition: all 0.3s $ease-smooth;

            &:hover {
                background: rgba($white, 0.1);
                transform: translateY(-2px);
            }

            .step-icon {
                margin: 0 auto 0.5rem;

                &.upload {
                    color: $gold;
                }

                &.analyze {
                    color: $blue;
                }

                &.explain {
                    color: $emerald;
                }
            }

            .step-title {
                color: rgba($white, 0.9);
                font-weight: 500;
                margin-bottom: 0.25rem;
            }

            .step-description {
                color: rgba($white, 0.6);
                font-size: 0.75rem;
            }
        }
    }
}

// Custom Scrollbar
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba($gold, 0.3) transparent;

    &::-webkit-scrollbar {
        width: 6px;
    }

    &::-webkit-scrollbar-track {
        background: transparent;
    }

    &::-webkit-scrollbar-thumb {
        background: rgba($gold, 0.3);
        border-radius: 3px;

        &:hover {
            background: rgba($gold, 0.5);
        }
    }
}

// === RESPONSIVE DESIGN ===
@media (max-width: 640px) {
    .brand-section .logo-container {
        flex-direction: column;
        gap: 0.5rem;

        .brand-text .main-title {
            font-size: 2.5rem;
        }
    }

    .upload-button {
        padding: 1.25rem 2rem;
        font-size: 1.125rem;
    }

    .welcome-section .main-headline {
        font-size: 2rem;
    }

    .feature-tags {
        gap: 0.5rem;

        .tag {
            padding: 0.4rem 0.8rem;

            .text {
                font-size: 0.8rem;
            }
        }
    }
}

@media (max-width: 480px) {
    .results-section .result-card {
        padding: 1rem;

        .card-content .points-grid .point-item .point-content {
            gap: 0.75rem;

            .point-number {
                width: 1.5rem;
                height: 1.5rem;
            }
        }
    }

    .how-it-works .steps-grid {
        grid-template-columns: 1fr;

        .step {
            display: flex;
            align-items: center;
            text-align: left;
            gap: 1rem;

            .step-icon {
                margin: 0;
                flex-shrink: 0;
            }
        }
    }
}

// === ACCESSIBILITY ===
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

// High contrast mode support
@media (prefers-contrast: high) {
    .gradient-hero {
        background: $primary-dark;
    }

    .upload-button {
        background: $gold;
        border: 2px solid $white;
    }

    .result-card {
        border: 1px solid rgba($white, 0.3);
    }
}